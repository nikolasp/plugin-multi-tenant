import { parseCookies } from "payload";
/**
 * A function that takes request headers and an idType and returns the current tenant ID from the cookie
 *
 * @param headers Headers, usually derived from req.headers or next/headers
 * @param idType can be 'number' | 'text', usually derived from payload.db.defaultIDType
 * @returns string | number | null
 */ export function getTenantFromCookie(headers, idType) {
    const cookies = parseCookies(headers);
    const selectedTenant = cookies.get('payload-tenant') || null;
    return selectedTenant ? idType === 'number' && !isNaN(Number(selectedTenant)) ? parseFloat(selectedTenant) : selectedTenant : null;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvZ2V0VGVuYW50RnJvbUNvb2tpZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZUNvb2tpZXMgfSBmcm9tICdwYXlsb2FkJ1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyByZXF1ZXN0IGhlYWRlcnMgYW5kIGFuIGlkVHlwZSBhbmQgcmV0dXJucyB0aGUgY3VycmVudCB0ZW5hbnQgSUQgZnJvbSB0aGUgY29va2llXG4gKlxuICogQHBhcmFtIGhlYWRlcnMgSGVhZGVycywgdXN1YWxseSBkZXJpdmVkIGZyb20gcmVxLmhlYWRlcnMgb3IgbmV4dC9oZWFkZXJzXG4gKiBAcGFyYW0gaWRUeXBlIGNhbiBiZSAnbnVtYmVyJyB8ICd0ZXh0JywgdXN1YWxseSBkZXJpdmVkIGZyb20gcGF5bG9hZC5kYi5kZWZhdWx0SURUeXBlXG4gKiBAcmV0dXJucyBzdHJpbmcgfCBudW1iZXIgfCBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZW5hbnRGcm9tQ29va2llKFxuICBoZWFkZXJzOiBIZWFkZXJzLFxuICBpZFR5cGU6ICdudW1iZXInIHwgJ3RleHQnLFxuKTogbnVsbCB8IG51bWJlciB8IHN0cmluZyB7XG4gIGNvbnN0IGNvb2tpZXMgPSBwYXJzZUNvb2tpZXMoaGVhZGVycylcbiAgY29uc3Qgc2VsZWN0ZWRUZW5hbnQgPSBjb29raWVzLmdldCgncGF5bG9hZC10ZW5hbnQnKSB8fCBudWxsXG4gIHJldHVybiBzZWxlY3RlZFRlbmFudFxuICAgID8gaWRUeXBlID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oTnVtYmVyKHNlbGVjdGVkVGVuYW50KSlcbiAgICAgID8gcGFyc2VGbG9hdChzZWxlY3RlZFRlbmFudClcbiAgICAgIDogc2VsZWN0ZWRUZW5hbnRcbiAgICA6IG51bGxcbn1cbiJdLCJuYW1lcyI6WyJwYXJzZUNvb2tpZXMiLCJnZXRUZW5hbnRGcm9tQ29va2llIiwiaGVhZGVycyIsImlkVHlwZSIsImNvb2tpZXMiLCJzZWxlY3RlZFRlbmFudCIsImdldCIsImlzTmFOIiwiTnVtYmVyIiwicGFyc2VGbG9hdCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsWUFBWSxRQUFRLFVBQVM7QUFFdEM7Ozs7OztDQU1DLEdBQ0QsT0FBTyxTQUFTQyxvQkFDZEMsT0FBZ0IsRUFDaEJDLE1BQXlCO0lBRXpCLE1BQU1DLFVBQVVKLGFBQWFFO0lBQzdCLE1BQU1HLGlCQUFpQkQsUUFBUUUsR0FBRyxDQUFDLHFCQUFxQjtJQUN4RCxPQUFPRCxpQkFDSEYsV0FBVyxZQUFZLENBQUNJLE1BQU1DLE9BQU9ILG1CQUNuQ0ksV0FBV0osa0JBQ1hBLGlCQUNGO0FBQ04ifQ==