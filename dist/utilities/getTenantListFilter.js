import { SELECT_ALL } from "../constants";
import { getCollectionIDType } from "./getCollectionIDType";
import { getTenantFromCookie } from "./getTenantFromCookie";
export const getTenantListFilter = ({ req, tenantFieldName, tenantsCollectionSlug })=>{
    const idType = getCollectionIDType({
        collectionSlug: tenantsCollectionSlug,
        payload: req.payload
    });
    const selectedTenant = getTenantFromCookie(req.headers, idType);
    if (selectedTenant === SELECT_ALL) {
        return {};
    }
    return {
        [tenantFieldName]: {
            equals: selectedTenant
        }
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvZ2V0VGVuYW50TGlzdEZpbHRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFBheWxvYWRSZXF1ZXN0LCBXaGVyZSB9IGZyb20gJ3BheWxvYWQnXG5cbmltcG9ydCB7IFNFTEVDVF9BTEwgfSBmcm9tICcuLi9jb25zdGFudHMnXG5pbXBvcnQgeyBnZXRDb2xsZWN0aW9uSURUeXBlIH0gZnJvbSAnLi9nZXRDb2xsZWN0aW9uSURUeXBlJ1xuaW1wb3J0IHsgZ2V0VGVuYW50RnJvbUNvb2tpZSB9IGZyb20gJy4vZ2V0VGVuYW50RnJvbUNvb2tpZSdcblxudHlwZSBBcmdzID0ge1xuICByZXE6IFBheWxvYWRSZXF1ZXN0XG4gIHRlbmFudEZpZWxkTmFtZTogc3RyaW5nXG4gIHRlbmFudHNDb2xsZWN0aW9uU2x1Zzogc3RyaW5nXG59XG5leHBvcnQgY29uc3QgZ2V0VGVuYW50TGlzdEZpbHRlciA9ICh7XG4gIHJlcSxcbiAgdGVuYW50RmllbGROYW1lLFxuICB0ZW5hbnRzQ29sbGVjdGlvblNsdWcsXG59OiBBcmdzKTogbnVsbCB8IFdoZXJlID0+IHtcbiAgY29uc3QgaWRUeXBlID0gZ2V0Q29sbGVjdGlvbklEVHlwZSh7XG4gICAgY29sbGVjdGlvblNsdWc6IHRlbmFudHNDb2xsZWN0aW9uU2x1ZyxcbiAgICBwYXlsb2FkOiByZXEucGF5bG9hZCxcbiAgfSlcbiAgY29uc3Qgc2VsZWN0ZWRUZW5hbnQgPSBnZXRUZW5hbnRGcm9tQ29va2llKHJlcS5oZWFkZXJzLCBpZFR5cGUpXG5cbiAgaWYgKHNlbGVjdGVkVGVuYW50ID09PSBTRUxFQ1RfQUxMKSB7XG4gICAgcmV0dXJuIHt9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFt0ZW5hbnRGaWVsZE5hbWVdOiB7XG4gICAgICBlcXVhbHM6IHNlbGVjdGVkVGVuYW50LFxuICAgIH0sXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJTRUxFQ1RfQUxMIiwiZ2V0Q29sbGVjdGlvbklEVHlwZSIsImdldFRlbmFudEZyb21Db29raWUiLCJnZXRUZW5hbnRMaXN0RmlsdGVyIiwicmVxIiwidGVuYW50RmllbGROYW1lIiwidGVuYW50c0NvbGxlY3Rpb25TbHVnIiwiaWRUeXBlIiwiY29sbGVjdGlvblNsdWciLCJwYXlsb2FkIiwic2VsZWN0ZWRUZW5hbnQiLCJoZWFkZXJzIiwiZXF1YWxzIl0sIm1hcHBpbmdzIjoiQUFFQSxTQUFTQSxVQUFVLFFBQVEsZUFBYztBQUN6QyxTQUFTQyxtQkFBbUIsUUFBUSx3QkFBdUI7QUFDM0QsU0FBU0MsbUJBQW1CLFFBQVEsd0JBQXVCO0FBTzNELE9BQU8sTUFBTUMsc0JBQXNCLENBQUMsRUFDbENDLEdBQUcsRUFDSEMsZUFBZSxFQUNmQyxxQkFBcUIsRUFDaEI7SUFDTCxNQUFNQyxTQUFTTixvQkFBb0I7UUFDakNPLGdCQUFnQkY7UUFDaEJHLFNBQVNMLElBQUlLLE9BQU87SUFDdEI7SUFDQSxNQUFNQyxpQkFBaUJSLG9CQUFvQkUsSUFBSU8sT0FBTyxFQUFFSjtJQUV4RCxJQUFJRyxtQkFBbUJWLFlBQVk7UUFDakMsT0FBTyxDQUFDO0lBQ1Y7SUFFQSxPQUFPO1FBQ0wsQ0FBQ0ssZ0JBQWdCLEVBQUU7WUFDakJPLFFBQVFGO1FBQ1Y7SUFDRjtBQUNGLEVBQUMifQ==