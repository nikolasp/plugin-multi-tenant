import { headers as getHeaders } from "next/headers";
import { redirect } from "next/navigation";
import { getGlobalViewRedirect } from "../../utilities/getGlobalViewRedirect";
export const GlobalViewRedirect = async (args)=>{
    const collectionSlug = args?.collectionSlug;
    if (collectionSlug && args.globalSlugs?.includes(collectionSlug)) {
        const headers = await getHeaders();
        const redirectRoute = await getGlobalViewRedirect({
            slug: collectionSlug,
            docID: args.docID,
            headers,
            payload: args.payload,
            tenantFieldName: args.tenantFieldName,
            tenantsCollectionSlug: args.tenantsCollectionSlug,
            useAsTitle: args.useAsTitle,
            user: args.user,
            view: args.viewType
        });
        if (redirectRoute) {
            redirect(redirectRoute);
        }
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0dsb2JhbFZpZXdSZWRpcmVjdC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENvbGxlY3Rpb25TbHVnLCBTZXJ2ZXJQcm9wcywgVmlld1R5cGVzIH0gZnJvbSAncGF5bG9hZCdcblxuaW1wb3J0IHsgaGVhZGVycyBhcyBnZXRIZWFkZXJzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJ1xuaW1wb3J0IHsgcmVkaXJlY3QgfSBmcm9tICduZXh0L25hdmlnYXRpb24nXG5cbmltcG9ydCB7IGdldEdsb2JhbFZpZXdSZWRpcmVjdCB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9nZXRHbG9iYWxWaWV3UmVkaXJlY3QnXG5pbXBvcnQgeyBVc2VyV2l0aFRlbmFudHNGaWVsZCB9IGZyb20gJ0AvdHlwZXMnXG5cbnR5cGUgQXJncyA9IFNlcnZlclByb3BzICYge1xuICBjb2xsZWN0aW9uU2x1ZzogQ29sbGVjdGlvblNsdWdcbiAgZG9jSUQ/OiBudW1iZXIgfCBzdHJpbmdcbiAgZ2xvYmFsU2x1Z3M6IHN0cmluZ1tdXG4gIHRlbmFudEZpZWxkTmFtZTogc3RyaW5nXG4gIHRlbmFudHNDb2xsZWN0aW9uU2x1Zzogc3RyaW5nXG4gIHVzZUFzVGl0bGU6IHN0cmluZ1xuICB2aWV3VHlwZTogVmlld1R5cGVzXG4gIHVzZXI6IFVzZXJXaXRoVGVuYW50c0ZpZWxkXG59XG5cbmV4cG9ydCBjb25zdCBHbG9iYWxWaWV3UmVkaXJlY3QgPSBhc3luYyAoYXJnczogQXJncykgPT4ge1xuICBjb25zdCBjb2xsZWN0aW9uU2x1ZyA9IGFyZ3M/LmNvbGxlY3Rpb25TbHVnXG4gIGlmIChjb2xsZWN0aW9uU2x1ZyAmJiBhcmdzLmdsb2JhbFNsdWdzPy5pbmNsdWRlcyhjb2xsZWN0aW9uU2x1ZykpIHtcbiAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgZ2V0SGVhZGVycygpXG4gICAgY29uc3QgcmVkaXJlY3RSb3V0ZSA9IGF3YWl0IGdldEdsb2JhbFZpZXdSZWRpcmVjdCh7XG4gICAgICBzbHVnOiBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgIGRvY0lEOiBhcmdzLmRvY0lELFxuICAgICAgaGVhZGVycyxcbiAgICAgIHBheWxvYWQ6IGFyZ3MucGF5bG9hZCxcbiAgICAgIHRlbmFudEZpZWxkTmFtZTogYXJncy50ZW5hbnRGaWVsZE5hbWUsXG4gICAgICB0ZW5hbnRzQ29sbGVjdGlvblNsdWc6IGFyZ3MudGVuYW50c0NvbGxlY3Rpb25TbHVnLFxuICAgICAgdXNlQXNUaXRsZTogYXJncy51c2VBc1RpdGxlLFxuICAgICAgdXNlcjogYXJncy51c2VyLFxuICAgICAgdmlldzogYXJncy52aWV3VHlwZSxcbiAgICB9KVxuXG4gICAgaWYgKHJlZGlyZWN0Um91dGUpIHtcbiAgICAgIHJlZGlyZWN0KHJlZGlyZWN0Um91dGUpXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiaGVhZGVycyIsImdldEhlYWRlcnMiLCJyZWRpcmVjdCIsImdldEdsb2JhbFZpZXdSZWRpcmVjdCIsIkdsb2JhbFZpZXdSZWRpcmVjdCIsImFyZ3MiLCJjb2xsZWN0aW9uU2x1ZyIsImdsb2JhbFNsdWdzIiwiaW5jbHVkZXMiLCJyZWRpcmVjdFJvdXRlIiwic2x1ZyIsImRvY0lEIiwicGF5bG9hZCIsInRlbmFudEZpZWxkTmFtZSIsInRlbmFudHNDb2xsZWN0aW9uU2x1ZyIsInVzZUFzVGl0bGUiLCJ1c2VyIiwidmlldyIsInZpZXdUeXBlIl0sIm1hcHBpbmdzIjoiQUFFQSxTQUFTQSxXQUFXQyxVQUFVLFFBQVEsZUFBYztBQUNwRCxTQUFTQyxRQUFRLFFBQVEsa0JBQWlCO0FBRTFDLFNBQVNDLHFCQUFxQixRQUFRLHdDQUF1QztBQWM3RSxPQUFPLE1BQU1DLHFCQUFxQixPQUFPQztJQUN2QyxNQUFNQyxpQkFBaUJELE1BQU1DO0lBQzdCLElBQUlBLGtCQUFrQkQsS0FBS0UsV0FBVyxFQUFFQyxTQUFTRixpQkFBaUI7UUFDaEUsTUFBTU4sVUFBVSxNQUFNQztRQUN0QixNQUFNUSxnQkFBZ0IsTUFBTU4sc0JBQXNCO1lBQ2hETyxNQUFNSjtZQUNOSyxPQUFPTixLQUFLTSxLQUFLO1lBQ2pCWDtZQUNBWSxTQUFTUCxLQUFLTyxPQUFPO1lBQ3JCQyxpQkFBaUJSLEtBQUtRLGVBQWU7WUFDckNDLHVCQUF1QlQsS0FBS1MscUJBQXFCO1lBQ2pEQyxZQUFZVixLQUFLVSxVQUFVO1lBQzNCQyxNQUFNWCxLQUFLVyxJQUFJO1lBQ2ZDLE1BQU1aLEtBQUthLFFBQVE7UUFDckI7UUFFQSxJQUFJVCxlQUFlO1lBQ2pCUCxTQUFTTztRQUNYO0lBQ0Y7QUFDRixFQUFDIn0=